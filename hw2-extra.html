<!--
HW2 - Extra Credit (Currency Converter)
This page converts U.S. Dollars into five other currencies.
Rows are generated by JavaScript and update live as the user
types into the USD input field. The table values are right-aligned
for readability. A background image and translucent overlay are applied
with ::before/::after for design, and responsive media queries adjust
the background size for smaller screens.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="CIS 114 - Homework 2 Extra Credit (Currency Converter)">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HW2 - Extra Credit (Currency Converter)</title>

  <style>
    /* Predictable sizing + fewer tiny overflows */
    *, *::before, *::after { box-sizing: border-box; }

    :root { --btn:#4b3f4e; --btnHover:#6a5d6e; --bgSize:640px auto; }
    html, body { height:100%; margin:0; }

    body {
      font-family: Arial, sans-serif;
      color: #000;
      background: #fff;
      padding: 24px;
      position: relative;
    }

    /* Background art layer */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background-image: url("desk-art.png");
      background-repeat: no-repeat;
      background-position: right bottom;
      background-size: var(--bgSize);
      z-index: -2;
      pointer-events: none;
    }

    /* Translucent overlay for readability */
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(255,255,255,0.18);
      z-index: -1;
      pointer-events: none;
    }

    nav a {
      display: inline-block;
      margin: 6px 8px 16px 0;
      padding: 10px 14px;
      border-radius: 6px;
      background: var(--btn);
      color: #fff;
      text-decoration: none;
      transition: background-color .2s;
    }
    nav a:hover { background: var(--btnHover); }

    /* The main panel that holds the table */
    nav.wrap {
      background: rgba(255,255,255,.8);
      padding: 16px;
      border-radius: 10px;
      max-width: 760px;
      width: min(100%, 760px);
      margin: 0;
      box-shadow: 0 2px 10px rgba(0,0,0,.06);
    }

    /* A scroll frame so wide tables don’t get cut off on phones */
    .table-wrap {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      max-width: 100%;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      border-radius: 8px;
      overflow: hidden;
      table-layout: fixed;
    }

    th, td {
      padding: 10px 12px;
      border-bottom: 1px solid #eee;
      word-break: break-word;
    }

    thead th { text-align: left; background: #fafafa; }
    td.rate, td.value { text-align: right; }

    th.value, td.value { width: 40%; }
    th.rate, td.rate { width: 25%; }

    input.value {
      width: 100%;
      text-align: right;
      border: none;
      background: transparent;
      font: inherit;
      color: inherit;
      outline: none;
    }
    input.value[readonly] { cursor: not-allowed; }

    #usd {
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 8px 10px;
      text-align: right;
    }
    #usd:focus {
      outline: 2px solid #6aa2ff;
      background: #eef5ff;
      border-color: #6aa2ff;
    }

    .hint { font-size: .9rem; color: #444; margin-top: 10px; }

    @media (max-width: 1024px) { :root { --bgSize: 500px auto; } }
    @media (max-width: 768px)  { :root { --bgSize: 350px auto; } }
    @media (max-width: 480px)  {
      :root { --bgSize: 250px auto; }
      body::before { position: absolute; }
    }
  </style>
</head>
<body>
  <h1>Homework 2 – Extra Credit</h1>
  <p>Enter a USD amount. Converted values appear to 2 decimals and align to the right.</p>

  <nav aria-label="Part navigation">
    <a href="hw2.html">← HW2 Home</a>
    <a href="hw2-part1.html">Part 1</a>
    <a href="hw2-part2.html">Part 2</a>
    <a href="index.html">Homework 1 (Course Home)</a>
  </nav>

  <nav class="wrap" aria-label="Currency converter">
    <div class="table-wrap">
      <table aria-label="Currency conversion table">
        <thead>
          <tr>
            <th>Currency</th>
            <th class="rate">Rate</th>
            <th class="value">Value</th>
          </tr>
        </thead>

        <tbody id="rows">
          <!-- rows injected by JS -->
        </tbody>

        <tfoot>
          <tr>
            <td>
              <label for="usd"><strong>Enter Amount of U.S. Dollars</strong></label>
            </td>
            <td></td>
            <td class="value">
              <input id="usd" type="number" inputmode="decimal" step="0.01" min="0" placeholder="0.00" aria-label="U.S. Dollars">
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
    <p class="hint">Rates are for 1 USD (June 2024). Values update as you type.</p>
  </nav>

  <script>
    // Currency data
    var rates = [
      { name: 'Euro', rate: 0.92 },
      { name: 'Canadian Dollar', rate: 1.38 },
      { name: 'Hong Kong Dollar', rate: 7.81 },
      { name: 'Japanese Yen', rate: 156.73 },
      { name: 'Mexican Peso', rate: 18.41 }
    ];

    // Get table body and USD input
    var rows = document.getElementById("rows");
    var usd  = document.getElementById("usd");

    // Build table rows dynamically
    for (var i = 0; i < rates.length; i++) {
      var tr = document.createElement("tr");

      var tdName = document.createElement("td");
      tdName.textContent = rates[i].name;

      var tdRate = document.createElement("td");
      tdRate.className = "rate";
      tdRate.textContent = rates[i].rate.toFixed(2);

      var tdValue = document.createElement("td");
      tdValue.className = "value";
      var out = document.createElement("input");
      out.className = "value";
      out.type = "text";
      out.readOnly = true;
      out.value = "";
      tdValue.appendChild(out);

      tr.appendChild(tdName);
      tr.appendChild(tdRate);
      tr.appendChild(tdValue);
      rows.appendChild(tr);
    }

    // Update values when user types USD
    function updateValues() {
      var val = usd.value.trim();
      var n = Number(val);
      var valid = isFinite(n) && n >= 0;

      var trs = rows.getElementsByTagName("tr");
      for (var i = 0; i < trs.length; i++) {
        var rate = rates[i].rate;
        var outInput = trs[i].getElementsByTagName("input")[0];
        outInput.value = valid ? (n * rate).toFixed(2) : "";
      }
    }

    usd.addEventListener("input", updateValues);
  </script>
</body>
</html>
